# CI/CD è‡ªåŠ¨éƒ¨ç½²æµç¨‹è¯¦è§£

## æµç¨‹æ¦‚è§ˆ

```
æœ¬åœ°æ¨é€ä»£ç  â†’ GitHub â†’ GitHub Actions â†’ æœåŠ¡å™¨éƒ¨ç½² â†’ åº”ç”¨é‡å¯ â†’ éªŒè¯
```

---

## è§¦å‘æ¡ä»¶

### è‡ªåŠ¨è§¦å‘
å½“æ»¡è¶³ä»¥ä¸‹**ä»»ä¸€æ¡ä»¶**æ—¶è‡ªåŠ¨è§¦å‘éƒ¨ç½²:

1. **æ¨é€åˆ° main åˆ†æ”¯** ä¸”ä¿®æ”¹äº† `backend/**` ç›®å½•ä¸‹çš„æ–‡ä»¶
2. **æ¨é€åˆ° main åˆ†æ”¯** ä¸”ä¿®æ”¹äº† `.github/workflows/deploy-backend.yml` æ–‡ä»¶

ç¤ºä¾‹:
```bash
git add backend/src/main.ts
git commit -m "feat: update main.ts"
git push origin main
# âœ… ä¼šè§¦å‘è‡ªåŠ¨éƒ¨ç½²

git add frontend/README.md
git commit -m "docs: update frontend readme"
git push origin main
# âŒ ä¸ä¼šè§¦å‘éƒ¨ç½² (æ²¡ä¿®æ”¹ backend/)
```

### æ‰‹åŠ¨è§¦å‘
åœ¨ GitHub Actions é¡µé¢ç‚¹å‡» "Run workflow" æŒ‰é’®æ‰‹åŠ¨è§¦å‘ã€‚

---

## å®Œæ•´éƒ¨ç½²æµç¨‹ (åˆ† 3 ä¸ªé˜¶æ®µ)

### ğŸ“¦ é˜¶æ®µ 1: GitHub Actions ç¯å¢ƒå‡†å¤‡ (åœ¨ GitHub æœåŠ¡å™¨æ‰§è¡Œ)

#### Step 1: Checkout code
```yaml
- name: Checkout code
  uses: actions/checkout@v4
```
**ä½œç”¨**: æ‹‰å–æ‚¨çš„ GitHub ä»“åº“ä»£ç åˆ° GitHub Actions è¿è¡Œç¯å¢ƒ

---

#### Step 2: Setup Node.js
```yaml
- name: Setup Node.js
  uses: actions/setup-node@v4
  with:
    node-version: '20'
    cache: 'npm'
```
**ä½œç”¨**: å®‰è£… Node.js 20 å¹¶å¯ç”¨ npm ç¼“å­˜åŠ é€Ÿ

---

#### Step 3: Install dependencies
```yaml
- name: Install dependencies
  working-directory: ./backend
  run: npm ci
```
**ä½œç”¨**: å®‰è£…åç«¯ä¾èµ–åŒ… (åœ¨ GitHub Actions ç¯å¢ƒ)
**å‘½ä»¤**: `npm ci` (æ¯” `npm install` æ›´å¿«æ›´å¯é )

---

#### Step 4: Build application
```yaml
- name: Build application
  working-directory: ./backend
  run: npm run build
```
**ä½œç”¨**: å°† TypeScript ç¼–è¯‘ä¸º JavaScript
**è¾“å‡º**: `backend/dist/` ç›®å½• (ç¼–è¯‘åçš„ç”Ÿäº§ä»£ç )

---

#### Step 5: Run tests
```yaml
- name: Run tests
  working-directory: ./backend
  run: npm run test
```
**ä½œç”¨**: è¿è¡Œå•å…ƒæµ‹è¯•ï¼Œç¡®ä¿ä»£ç è´¨é‡
**å¤±è´¥å¤„ç†**: å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œæ•´ä¸ªéƒ¨ç½²æµç¨‹ä¸­æ–­ âŒ

---

### ğŸš€ é˜¶æ®µ 2: éƒ¨ç½²åˆ°ç”Ÿäº§æœåŠ¡å™¨ (é€šè¿‡ SSH è¿æ¥åˆ°æ‚¨çš„æœåŠ¡å™¨æ‰§è¡Œ)

#### Step 6: Deploy to Server via SSH

**SSH è¿æ¥ä¿¡æ¯**:
- Host: `43.139.80.246` (ä» GitHub Secrets è¯»å–)
- User: `root`
- Auth: SSH ç§é’¥è®¤è¯ (ä» GitHub Secrets è¯»å–)

**åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œçš„è„šæœ¬**:

##### 6.1 åˆ›å»ºåº”ç”¨ç›®å½•
```bash
mkdir -p /www/wwwroot/shop_admin/bk_admin
cd /www/wwwroot/shop_admin/bk_admin
```

##### 6.2 æ‹‰å–æœ€æ–°ä»£ç 
```bash
if [ -d ".git" ]; then
  # å¦‚æœå·²ç»å…‹éš†è¿‡ä»“åº“ï¼Œæ‹‰å–æœ€æ–°ä»£ç 
  git fetch origin
  git reset --hard origin/main
else
  # é¦–æ¬¡éƒ¨ç½²ï¼Œå…‹éš†ä»“åº“
  git clone git@github.com:your-username/cursor_shop.git .
fi
```

##### 6.3 å®‰è£…ä¾èµ–
```bash
cd backend
npm ci --production=false
```
**æ³¨æ„**: `--production=false` ä¼šå®‰è£… devDependencies (å› ä¸ºéœ€è¦ TypeScript ç¼–è¯‘å™¨)

##### 6.4 æ„å»ºåº”ç”¨
```bash
npm run build
```
**ç”Ÿæˆ**: `/www/wwwroot/shop_admin/bk_admin/backend/dist/` ç›®å½•

##### 6.5 æ£€æŸ¥ç¯å¢ƒå˜é‡æ–‡ä»¶
```bash
if [ ! -f .env.production ]; then
  cp .env.example .env.production
  echo "âš ï¸  Please update .env.production!"
fi
```
**é¦–æ¬¡éƒ¨ç½²**: ä¼šåˆ›å»º `.env.production` æ¨¡æ¿æ–‡ä»¶
**åç»­éƒ¨ç½²**: ä¿ç•™ç°æœ‰çš„ `.env.production` (ä¸ä¼šè¦†ç›–)

##### 6.6 ä½¿ç”¨ PM2 é‡å¯åº”ç”¨
```bash
pm2 reload ecosystem.config.js --env production || \
pm2 start ecosystem.config.js --env production
```

**é€»è¾‘**:
- å¦‚æœåº”ç”¨å·²åœ¨è¿è¡Œ â†’ `pm2 reload` (0 åœæœºæ—¶é—´çƒ­é‡å¯)
- å¦‚æœåº”ç”¨æœªè¿è¡Œ â†’ `pm2 start` (é¦–æ¬¡å¯åŠ¨)

**PM2 é…ç½®** (ä» `ecosystem.config.js` è¯»å–):
- åº”ç”¨å: `wechat-mall-backend`
- è¿è¡Œæ¨¡å¼: `cluster` (é›†ç¾¤æ¨¡å¼)
- å®ä¾‹æ•°: `max` (ä½¿ç”¨æ‰€æœ‰ CPU æ ¸å¿ƒ)
- å…¥å£æ–‡ä»¶: `dist/main.js`

##### 6.7 ä¿å­˜ PM2 è¿›ç¨‹åˆ—è¡¨
```bash
pm2 save
```
**ä½œç”¨**: ä¿å­˜è¿›ç¨‹åˆ—è¡¨ï¼Œç¡®ä¿æœåŠ¡å™¨é‡å¯ååº”ç”¨è‡ªåŠ¨å¯åŠ¨

---

### âœ… é˜¶æ®µ 3: éªŒè¯éƒ¨ç½²

#### Step 7: Verify deployment

**åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ**:

##### 7.1 æ£€æŸ¥ PM2 çŠ¶æ€
```bash
pm2 status
```
**é¢„æœŸè¾“å‡º**:
```
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name                   â”‚ mode     â”‚ â†º    â”‚ status    â”‚ cpu      â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0  â”‚ wechat-mall-backend    â”‚ cluster  â”‚ 0    â”‚ online    â”‚ 0%       â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

##### 7.2 æŸ¥çœ‹åº”ç”¨æ—¥å¿—
```bash
pm2 logs wechat-mall-backend --lines 20 --nostream
```
**æŸ¥çœ‹**: æœ€è¿‘ 20 è¡Œåº”ç”¨æ—¥å¿—ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯

---

#### Step 8: Notify deployment status

```bash
if [ ${{ job.status }} == 'success' ]; then
  echo "âœ… Deployment successful!"
else
  echo "âŒ Deployment failed!"
fi
```

**ç»“æœé€šçŸ¥**: åœ¨ GitHub Actions é¡µé¢æ˜¾ç¤ºéƒ¨ç½²ç»“æœ

---

## å®Œæ•´æ—¶é—´çº¿ç¤ºä¾‹

### åœºæ™¯: ä¿®æ”¹ä»£ç å¹¶æ¨é€

```bash
# æœ¬åœ°ä¿®æ”¹ä»£ç 
vim backend/src/main.ts

# æäº¤å¹¶æ¨é€
git add .
git commit -m "feat: update port to 3000"
git push origin main
```

**GitHub Actions è‡ªåŠ¨æ‰§è¡Œ**:

| æ—¶é—´ | é˜¶æ®µ | æ“ä½œ | è€—æ—¶ |
|------|------|------|------|
| 00:00 | è§¦å‘ | æ£€æµ‹åˆ° main åˆ†æ”¯æ¨é€ | å³æ—¶ |
| 00:05 | å‡†å¤‡ | æ‹‰å–ä»£ç  + å®‰è£… Node.js | ~10s |
| 00:15 | æ„å»º | å®‰è£…ä¾èµ– | ~30s |
| 00:45 | æ„å»º | TypeScript ç¼–è¯‘ | ~15s |
| 01:00 | æµ‹è¯• | è¿è¡Œå•å…ƒæµ‹è¯• | ~20s |
| 01:20 | éƒ¨ç½² | SSH è¿æ¥æœåŠ¡å™¨ | ~5s |
| 01:25 | éƒ¨ç½² | Git pull æœ€æ–°ä»£ç  | ~10s |
| 01:35 | éƒ¨ç½² | æœåŠ¡å™¨å®‰è£…ä¾èµ– | ~40s |
| 02:15 | éƒ¨ç½² | æœåŠ¡å™¨æ„å»ºåº”ç”¨ | ~15s |
| 02:30 | éƒ¨ç½² | PM2 é‡å¯åº”ç”¨ | ~5s |
| 02:35 | éªŒè¯ | æ£€æŸ¥åº”ç”¨çŠ¶æ€ | ~5s |
| 02:40 | å®Œæˆ | âœ… éƒ¨ç½²æˆåŠŸ | - |

**æ€»è€—æ—¶**: çº¦ 2-3 åˆ†é’Ÿ

---

## éƒ¨ç½²æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å¼€å‘è€…æœ¬åœ°    â”‚
â”‚  git push main  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              GitHub å¹³å°                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚       GitHub Actions Runner             â”‚   â”‚
â”‚  â”‚  1. Checkout ä»£ç                        â”‚   â”‚
â”‚  â”‚  2. å®‰è£… Node.js 20                     â”‚   â”‚
â”‚  â”‚  3. npm ci (å®‰è£…ä¾èµ–)                   â”‚   â”‚
â”‚  â”‚  4. npm run build (ç¼–è¯‘)                â”‚   â”‚
â”‚  â”‚  5. npm run test (æµ‹è¯•)                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                   â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ SSH è¿æ¥
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ç”Ÿäº§æœåŠ¡å™¨ (43.139.80.246)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  /www/wwwroot/shop_admin/bk_admin       â”‚   â”‚
â”‚  â”‚                                          â”‚   â”‚
â”‚  â”‚  1. git pull (æ‹‰å–ä»£ç )                 â”‚   â”‚
â”‚  â”‚  2. npm ci (å®‰è£…ä¾èµ–)                   â”‚   â”‚
â”‚  â”‚  3. npm run build (ç¼–è¯‘)                â”‚   â”‚
â”‚  â”‚  4. pm2 reload (é‡å¯åº”ç”¨)               â”‚   â”‚
â”‚  â”‚                                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”‚
â”‚  â”‚  â”‚   PM2 è¿›ç¨‹ç®¡ç†å™¨             â”‚       â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚       â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ wechat-mall-backend    â”‚  â”‚       â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ (Cluster Mode)         â”‚  â”‚       â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  - Instance 1 (3000)   â”‚  â”‚       â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  - Instance 2 (3000)   â”‚  â”‚       â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  - Instance N...       â”‚  â”‚       â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚       â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  ç”¨æˆ·è®¿é—® â”‚
              â”‚  :3000    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å…³é”®ç‰¹æ€§

### 1. é›¶åœæœºéƒ¨ç½² (Zero Downtime)
- ä½¿ç”¨ `pm2 reload` è€Œä¸æ˜¯ `pm2 restart`
- é›†ç¾¤æ¨¡å¼ä¸‹é€ä¸ªé‡å¯å®ä¾‹
- ç¡®ä¿å§‹ç»ˆæœ‰å®ä¾‹åœ¨è¿è¡Œ

### 2. è‡ªåŠ¨å›æ»šæœºåˆ¶
- Git ä½¿ç”¨ `reset --hard origin/main`
- å¦‚æœæ„å»ºå¤±è´¥ï¼ŒPM2 ä¼šä¿æŒæ—§ç‰ˆæœ¬è¿è¡Œ
- å¯ä»¥ä½¿ç”¨ `rollback.sh` è„šæœ¬æ‰‹åŠ¨å›æ»š

### 3. ç¯å¢ƒéš”ç¦»
- GitHub Actions ç¯å¢ƒ (æµ‹è¯•ã€æ„å»º)
- ç”Ÿäº§æœåŠ¡å™¨ç¯å¢ƒ (è¿è¡Œ)
- äº’ä¸å¹²æ‰°

### 4. å®‰å…¨æ€§
- SSH å¯†é’¥è®¤è¯ (ä¸ä½¿ç”¨å¯†ç )
- GitHub Secrets åŠ å¯†å­˜å‚¨æ•æ„Ÿä¿¡æ¯
- .env.production ä¸ä¼šè¢«è¦†ç›–

---

## å¸¸è§é—®é¢˜

### Q1: éƒ¨ç½²ä¼šä¸­æ–­æ­£åœ¨å¤„ç†çš„è¯·æ±‚å—?

**ç­”**: ä¸ä¼šã€‚PM2 çš„ `reload` ä¼šç­‰å¾…æ—§è¿›ç¨‹å¤„ç†å®Œå½“å‰è¯·æ±‚åå†å…³é—­ã€‚

---

### Q2: å¦‚æœéƒ¨ç½²å¤±è´¥ä¼šæ€æ ·?

**ç­”**:
- GitHub Actions é˜¶æ®µå¤±è´¥ â†’ ä¸ä¼šè§¦å‘æœåŠ¡å™¨éƒ¨ç½²
- æœåŠ¡å™¨æ„å»ºå¤±è´¥ â†’ PM2 ä¿æŒè¿è¡Œæ—§ç‰ˆæœ¬
- PM2 å¯åŠ¨å¤±è´¥ â†’ å¯ä»¥æŸ¥çœ‹æ—¥å¿—å¹¶æ‰‹åŠ¨ä¿®å¤

---

### Q3: å¯ä»¥å›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬å—?

**ç­”**: å¯ä»¥ï¼Œæœ‰ 3 ç§æ–¹å¼:
1. ä½¿ç”¨ `backend/scripts/deployment/rollback.sh` è„šæœ¬
2. æ‰‹åŠ¨ `git reset --hard <commit-hash>` å¹¶é‡æ–°éƒ¨ç½²
3. åœ¨ GitHub ä¸Š revert æäº¤å¹¶æ¨é€

---

### Q4: å¦‚ä½•æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—?

**ç­”**:
- **GitHub Actions æ—¥å¿—**: GitHub ä»“åº“ â†’ Actions æ ‡ç­¾
- **åº”ç”¨æ—¥å¿—**: `ssh root@43.139.80.246 'pm2 logs wechat-mall-backend'`
- **ç³»ç»Ÿæ—¥å¿—**: `/www/wwwroot/shop_admin/bk_admin/backend/logs/production.log`

---

### Q5: å¯ä»¥éƒ¨ç½²åˆ°å¤šä¸ªç¯å¢ƒå—?

**ç­”**: å¯ä»¥ï¼Œåˆ›å»ºä¸åŒçš„ workflow æ–‡ä»¶:
- `deploy-staging.yml` â†’ éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ
- `deploy-production.yml` â†’ éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
- ä½¿ç”¨ä¸åŒçš„åˆ†æ”¯è§¦å‘ (å¦‚ `staging` å’Œ `main`)

---

## ç›‘æ§å’Œå‘Šè­¦

### æŸ¥çœ‹å®æ—¶éƒ¨ç½²çŠ¶æ€

```bash
# æ–¹æ³• 1: GitHub Actions é¡µé¢
# è®¿é—®ä»“åº“ â†’ Actions â†’ ç‚¹å‡»æœ€æ–°çš„ workflow run

# æ–¹æ³• 2: GitHub CLI
gh run list --workflow=deploy-backend.yml
gh run view <run-id> --log

# æ–¹æ³• 3: SSH åˆ°æœåŠ¡å™¨æŸ¥çœ‹
ssh root@43.139.80.246 'pm2 monit'
```

### è®¾ç½®éƒ¨ç½²é€šçŸ¥

å¯ä»¥åœ¨ workflow ä¸­æ·»åŠ é€šçŸ¥æ­¥éª¤:
- Slack é€šçŸ¥
- é‚®ä»¶é€šçŸ¥
- é’‰é’‰/ä¼ä¸šå¾®ä¿¡é€šçŸ¥

---

## ä¼˜åŒ–å»ºè®®

### 1. ç¼“å­˜ä¼˜åŒ–
GitHub Actions å·²å¯ç”¨ npm ç¼“å­˜ï¼ŒåŠ å¿«ä¾èµ–å®‰è£…é€Ÿåº¦ã€‚

### 2. å¹¶è¡Œæµ‹è¯•
å¦‚æœæµ‹è¯•è¾ƒå¤šï¼Œå¯ä»¥é…ç½®å¹¶è¡Œæµ‹è¯•:
```yaml
- name: Run tests
  run: npm run test -- --maxWorkers=4
```

### 3. åˆ†é˜¶æ®µéƒ¨ç½²
å…ˆéƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒï¼ŒéªŒè¯é€šè¿‡åå†éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚

### 4. å¥åº·æ£€æŸ¥
æ·»åŠ åº”ç”¨å¥åº·æ£€æŸ¥ç«¯ç‚¹:
```typescript
@Get('health')
healthCheck() {
  return { status: 'ok', timestamp: Date.now() };
}
```

---

## æ€»ç»“

**CI/CD æµç¨‹**: `ä»£ç æ¨é€ â†’ è‡ªåŠ¨æ„å»º â†’ è‡ªåŠ¨æµ‹è¯• â†’ è‡ªåŠ¨éƒ¨ç½² â†’ è‡ªåŠ¨éªŒè¯`

**ä¼˜åŠ¿**:
- âœ… å…¨è‡ªåŠ¨åŒ–ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ
- âœ… é›¶åœæœºéƒ¨ç½²
- âœ… æ„å»ºå’Œæµ‹è¯•å¤±è´¥è‡ªåŠ¨ä¸­æ–­
- âœ… ç¯å¢ƒé…ç½®ç»Ÿä¸€ç®¡ç†
- âœ… éƒ¨ç½²å†å²å¯è¿½æº¯

**ä¸‹ä¸€æ­¥**: å‚è€ƒ [QUICK_DEPLOY.md](backend/QUICK_DEPLOY.md) å®Œæˆé¦–æ¬¡éƒ¨ç½²é…ç½®ã€‚
