# 用户管理模块

## 功能概述

用户管理模块提供了完整的用户管理功能，包括用户的增删改查、状态管理、密码重置等操作。

## 文件结构

```
user/
├── index.vue                    # 用户管理主页面
├── components/
│   ├── UserForm.vue            # 用户表单组件（新增/编辑）
│   └── ResetPasswordDialog.vue # 重置密码对话框
├── test-data.ts                # 测试数据
└── README.md                   # 说明文档
```

## 主要功能

### 1. 用户列表管理
- ✅ 用户列表展示（表格形式）
- ✅ 分页功能
- ✅ 搜索筛选（用户名、真实姓名、邮箱、状态）
- ✅ 批量选择和删除
- ✅ 用户状态切换（启用/禁用）

### 2. 用户信息管理
- ✅ 新增用户
- ✅ 编辑用户信息
- ✅ 删除用户
- ✅ 批量删除用户
- ✅ 用户头像显示

### 3. 密码管理
- ✅ 重置用户密码
- ✅ 密码强度验证
- ✅ 密码确认验证

### 4. 角色管理
- ✅ 用户角色分配
- ✅ 角色多选支持
- ✅ 角色信息展示

## 技术特性

### 1. 响应式设计
- 使用 Vue 3 Composition API
- 响应式数据管理
- 自动数据更新

### 2. 表单验证
- 用户名格式验证
- 邮箱格式验证
- 手机号格式验证
- 密码强度验证
- 必填字段验证

### 3. 用户体验
- 加载状态提示
- 操作成功/失败提示
- 确认对话框
- 防重复提交
- 状态切换防抖

### 4. 数据安全
- 编辑模式下用户名不可修改
- 密码重置安全提示
- 删除操作二次确认

## API 接口

### 用户相关接口
- `GET /users` - 获取用户列表
- `GET /users/:id` - 获取用户详情
- `POST /users` - 创建用户
- `PUT /users/:id` - 更新用户
- `DELETE /users/:id` - 删除用户
- `POST /users/batch-delete` - 批量删除用户
- `PUT /users/:id/toggle-status` - 切换用户状态
- `PUT /users/:id/reset-password` - 重置密码

### 角色相关接口
- `GET /roles/all` - 获取所有角色（用于下拉选择）

## 数据模型

### User 用户模型
```typescript
interface User {
  id: number;
  username: string;        // 用户名
  realName: string;        // 真实姓名
  email: string;           // 邮箱
  phone?: string;          // 手机号
  avatar?: string;         // 头像URL
  status: number;          // 状态：1-启用，0-禁用
  lastLoginTime?: string;  // 最后登录时间
  lastLoginIp?: string;    // 最后登录IP
  createdAt: string;       // 创建时间
  updatedAt: string;       // 更新时间
  roles?: Role[];          // 用户角色
}
```

### Role 角色模型
```typescript
interface Role {
  id: number;
  name: string;            // 角色名称
  code: string;            // 角色代码
  description?: string;    // 角色描述
  status: number;          // 状态
  createdAt: string;       // 创建时间
  updatedAt: string;       // 更新时间
}
```

## 使用说明

### 1. 访问用户管理页面
导航到 `/system/user` 路径即可访问用户管理页面。

### 2. 新增用户
1. 点击"新增用户"按钮
2. 填写用户信息（用户名、密码、真实姓名、邮箱等）
3. 选择用户角色
4. 设置用户状态
5. 点击"创建"按钮

### 3. 编辑用户
1. 在用户列表中点击"编辑"按钮
2. 修改用户信息（注意：用户名不可修改）
3. 点击"更新"按钮

### 4. 重置密码
1. 在用户列表中点击"重置密码"按钮
2. 输入新密码并确认
3. 点击"重置密码"按钮

### 5. 删除用户
- 单个删除：点击用户行的"删除"按钮
- 批量删除：选择多个用户后点击"批量删除"按钮

### 6. 状态管理
直接点击用户状态列的开关即可切换用户的启用/禁用状态。

## 注意事项

1. **用户名唯一性**：用户名必须在系统中唯一
2. **邮箱格式**：必须输入有效的邮箱格式
3. **密码安全**：密码长度至少6位，建议包含字母、数字和特殊字符
4. **角色权限**：用户的实际权限由其分配的角色决定
5. **状态影响**：禁用的用户无法登录系统

## 扩展功能

可以根据需要扩展以下功能：
- 用户导入/导出
- 用户登录日志
- 密码过期策略
- 用户组管理
- 更详细的权限控制